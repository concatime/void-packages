# Template file for 'fizz'
pkgname=fizz
version=2020.11.23.00
revision=1
wrksrc="${pkgname}-${version}/${pkgname}"
build_style=cmake
configure_args="-D BUILD_SHARED_LIBS=ON -D BUILD_STATIC_LIBS=ON
 -D BUILD_TESTS=ON"
makedepends="double-conversion-devel fmt-devel folly-devel gflags-devel
 glog-devel libevent-devel libressl-devel libsodium-devel"
checkdepends="gtest-devel"
short_desc="C++14 implementation of the TLS-1.3 standard"
maintainer="Issam E. Maghni <issam.e.maghni@mailbox.org>"
license="BSD-3-Clause"
homepage="https://github.com/facebookincubator/fizz"
distfiles="https://github.com/facebookincubator/fizz/archive/v${version}.tar.gz"
checksum=ed9bf4714aaa5f401bbb47a98182c6886564fcb35301b0765eac853afbe9dc90

fizz-devel_package() {
	short_desc+=" - development files"
	depends="${sourcepkg}>=${version}_${revision}"
	pkg_install() {
		vmove usr/include
		vmove "usr/lib/*.a"
		vmove "usr/lib/*.so"
		vmove usr/lib/cmake
		vmove usr/lib/pkgconfig
	}
}
